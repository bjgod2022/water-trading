/*! TVJS Overlays - v0.5.0 - Fri Jul 09 2021
    https://github.com/tvjsx/trading-vue-js
    Copyright (c) 2020 c451 Code's All Right;
    Licensed under the MIT license */
!function(t,e){t["trading-vue-js"]||(t["trading-vue-js"]=t.TradingVueJs),"object"==typeof exports&&"object"==typeof module?module.exports=e(require("trading-vue-js")):"function"==typeof define&&define.amd?define(["trading-vue-js"],e):"object"==typeof exports?exports.TvjsOverlays=e(require("trading-vue-js")):t.TvjsOverlays=e(t["trading-vue-js"])}(self,(function(t){return(()=>{"use strict";var e={954:e=>{e.exports=t}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{r.r(o),r.d(o,{ALMA:()=>i,ATR:()=>l,ATRp:()=>u,Area51:()=>d,BB:()=>m,BBW:()=>y,CCI:()=>_,CMO:()=>b,COG:()=>k,DHistogram:()=>T,DMI:()=>$,EMA:()=>W,HMA:()=>I,Histogram:()=>R,Ichi:()=>K,Ichimoku:()=>H,KC:()=>V,KCW:()=>G,LongShortTrades:()=>J,MACD:()=>et,MFI:()=>rt,MOM:()=>it,Markers:()=>ut,PlotCross:()=>dt,ROC:()=>mt,RSI:()=>yt,Ribbon:()=>_t,SAR:()=>bt,SMA:()=>kt,SWMA:()=>At,Stoch:()=>$t,TSI:()=>Wt,TradesPlus:()=>jt,VWMA:()=>Rt,WilliamsR:()=>Kt,XOhlcBars:()=>Zt,default:()=>Qt});var t=r(954);function e(t,e,n,r,o,i,s,l){var a,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),s?(a=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=a):o&&(a=l?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),a)if(u.functional){u._injectStyles=a;var c=u.render;u.render=function(t,e){return a.call(e),c(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,a):[a]}return{exports:t,options:u}}var n=e({name:"ALMA",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Arnaud Legoux Moving Average",preset:{name:"ALMA $length $offset $sigma",side:"onchart",settings:{lineWidth:.75,color:"#559de0"}}}},use_for:function(){return["ALMA"]},calc:function(){return{props:{length:{def:10,text:"Length"},offset:{def:.9,text:"Offset"},sigma:{def:5,text:"Sigma"}},conf:{renderer:"Spline"},update:"\n                    return alma(close, length, offset, sigma)[0]\n                "}}}},undefined,undefined,!1,null,null,null);n.options.__file="src/overlays/ALMA/ALMA.vue";const i=n.exports;var s=e({name:"ATR",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Average True Range",preset:{name:"ATR $length",side:"offchart",settings:{lineWidth:.75,color:"#e52468"}}}},use_for:function(){return["ATR"]},calc:function(){return{props:{length:{def:15,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return atr(length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);s.options.__file="src/overlays/ATR/ATR.vue";const l=s.exports;var a=e({name:"ATRp",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Average True Range, %",preset:{name:"ATR% $length",side:"offchart",settings:{lineWidth:.75,color:"#f44336"}}}},use_for:function(){return["ATRp"]},calc:function(){return{props:{length:{def:15,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return 100 * atr(length)[0] / close[0]\n                "}}}},undefined,undefined,!1,null,null,null);a.options.__file="src/overlays/ATRp/ATRp.vue";const u=a.exports;function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var h=e({name:"Area51",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"ðŸ‘½",version:"1.0.0",desc:"Gradient area chart"}},draw:function(t){var e=this.$props.layout,n=this.$props.data,r=t.createLinearGradient(0,0,0,e.height);r.addColorStop(0,this.back1),r.addColorStop(1,this.back2),t.lineWidth=this.line_width,t.strokeStyle=this.color,t.beginPath();var o,i=c(n);try{for(i.s();!(o=i.n()).done;){var s=o.value,l=e.t2screen(s[0]),a=e.$2screen(s[1]);t.lineTo(l,a)}}catch(t){i.e(t)}finally{i.f()}t.stroke(),t.fillStyle=r,t.beginPath();var u=(n[0]||[])[0],f=(n[n.length-1]||[])[0];t.lineTo(e.t2screen(u),e.height);var h,d=c(n);try{for(d.s();!(h=d.n()).done;){s=h.value;var p=e.t2screen(s[0]),m=e.$2screen(s[1]);t.lineTo(p,m)}}catch(t){d.e(t)}finally{d.f()}t.lineTo(e.t2screen(f),e.height),t.fill()},use_for:function(){return["Area51"]},data_colors:function(){return[this.color]}},computed:{sett:function(){return this.$props.settings},line_width:function(){return this.sett.lineWidth||1.25},color:function(){return this.sett.color||"#2fd68f"},back1:function(){return this.sett.back1||this.color+"15"},back2:function(){return this.sett.back2||this.color+"01"}},data:function(){return{}}},undefined,undefined,!1,null,null,null);h.options.__file="src/overlays/Area51/Area51.vue";const d=h.exports;var p=e({name:"BB",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Bollinger Bands",preset:{name:"BB $length $stddev",side:"onchart",settings:{lineWidth:.75,color:"#2cc6c9ab",showMid:!0,backColor:"#2cc6c90a"}}}},use_for:function(){return["BB"]},calc:function(){return{props:{length:{def:21,text:"Length"},stddev:{def:2,text:"StdDev"}},conf:{renderer:"Channel"},update:"\n                    let [m, h, l] = bb(close, length, stddev)\n                    return [h[0], m[0], l[0]]\n                "}}}},undefined,undefined,!1,null,null,null);p.options.__file="src/overlays/BB/BB.vue";const m=p.exports;var v=e({name:"BBW",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Bollinger Bands Width",preset:{name:"BBW $length $stddev",side:"offchart",settings:{lineWidth:.75,color:"#2cc6c9ab"}}}},use_for:function(){return["BBW"]},calc:function(){return{props:{length:{def:21,text:"Length"},stddev:{def:2,text:"StdDev"}},conf:{renderer:"Spline"},update:"\n                    return bbw(close, length, stddev)[0]\n                "}}}},undefined,undefined,!1,null,null,null);v.options.__file="src/overlays/BBW/BBW.vue";const y=v.exports;var g=e({name:"CCI",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Commodity Channel Index",preset:{name:"CCI $length",side:"offchart",settings:{lineWidth:.75,color:"#e28a3dee",backColor:"#e28a3d11",bandColor:"#aaaaaa",upper:100,lower:-100}}}},use_for:function(){return["CCI"]},calc:function(){return{props:{length:{def:21,text:"Length"}},conf:{renderer:"Range"},update:"return cci(close, length)[0]"}}}},undefined,undefined,!1,null,null,null);g.options.__file="src/overlays/CCI/CCI.vue";const _=g.exports;var S=e({name:"CMO",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Chande Momentum Oscillator",preset:{name:"CMO $length",side:"offchart",settings:{lineWidth:.75,color:"#559de0"}}}},use_for:function(){return["CMO"]},calc:function(){return{props:{length:{def:10,text:"Length"}},conf:{renderer:"Spline"},update:"return cmo(close, length)[0]"}}}},undefined,undefined,!1,null,null,null);S.options.__file="src/overlays/CMO/CMO.vue";const b=S.exports;var x=e({name:"COG",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Center of Gravity",preset:{name:"COG $length",side:"offchart",settings:{lineWidth:.75,color:"#559de0"}}}},use_for:function(){return["COG"]},calc:function(){return{props:{length:{def:10,text:"Length"}},conf:{renderer:"Spline"},update:"return cog(close, length)[0]"}}}},undefined,undefined,!1,null,null,null);x.options.__file="src/overlays/COG/COG.vue";const k=x.exports;function w(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var C=e({name:"DHistogram",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"Acid3croco",version:"1.0.0",desc:"Double Histogram Plot",preset:{name:"DHistogram",side:"offchart",settings:{histWidth:4,thresholdSize:0,posColor:"#35a776",negColor:"#e54150"}}}},draw:function(t){t.lineWidth=this.hist_width,t.strokeStyle=this.color;var e,n=this.$props.layout,r=n.$2screen(0)+.5,o=this.hist_width%2?0:.5,i=w(this.$props.data);try{for(i.s();!(e=i.n()).done;){var s=e.value,l=s[1],a=s[2],u=n.t2screen(s[0])-o,c=n.$2screen(l)-.5,f=n.$2screen(a)-.5;l>this.threshold_size&&(t.strokeStyle=this.pos_color,t.beginPath(),t.moveTo(u,r),t.lineTo(u,c),t.stroke()),a<-this.threshold_size&&(t.strokeStyle=this.neg_color,t.beginPath(),t.moveTo(u,r),t.lineTo(u,f),t.stroke())}}catch(t){i.e(t)}finally{i.f()}},use_for:function(){return["DHistogram"]},legend:function(t){var e=t.slice(1,3).map((function(t){return t.toFixed(Math.abs(t)>.001?4:8)}));return[{value:e[0],color:this.pos_color},{value:e[1],color:this.neg_color}]}},computed:{sett:function(){return this.$props.settings},hist_width:function(){return this.sett.histWidth||4},threshold_size:function(){return this.sett.thresholdSize||0},pos_color:function(){return this.sett.posColor||"#35a776"},neg_color:function(){return this.sett.negColor||"#e54150"}},data:function(){return{}}},undefined,undefined,!1,null,null,null);C.options.__file="src/overlays/DHistogram/DHistogram.vue";const T=C.exports;var M=e({name:"DMI",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Directional Movement Index",preset:{name:"DMI $length $smooth",side:"offchart",settings:{lineWidth:.75,colors:["#ef1360","#3782f2","#f48709"]}}}},use_for:function(){return["DMI"]},calc:function(){return{props:{length:{def:15,text:"DI Length"},smooth:{def:15,text:"ADX Smothing"}},conf:{renderer:"Splines"},update:"\n                    let [adx, dp, dn] = dmi(length, smooth)\n                    return [adx[0], dp[0], dn[0]]\n                "}}}},undefined,undefined,!1,null,null,null);M.options.__file="src/overlays/DMI/DMI.vue";const $=M.exports;var O=e({name:"EMA",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Exponential Moving Average",preset:{name:"EMA $length",side:"onchart",settings:{lineWidth:.75,color:"#f7890c"}}}},use_for:function(){return["EMA"]},calc:function(){return{props:{length:{def:12,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return ema(close, length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);O.options.__file="src/overlays/EMA/EMA.vue";const W=O.exports;var B=e({name:"HMA",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Hull Moving Average",preset:{name:"HMA $length",side:"onchart",settings:{lineWidth:.75,color:"#3af475"}}}},use_for:function(){return["HMA"]},calc:function(){return{props:{length:{def:10,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return hma(close, length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);B.options.__file="src/overlays/HMA/HMA.vue";const I=B.exports;function L(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return j(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var P=e({name:"Histogram",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Histogram plot"}},draw:function(t){t.lineWidth=this.line_width,t.strokeStyle=this.color,t.beginPath();var e,n=this.$props.layout,r=n.$2screen(0)+.5,o=this.line_width%2?0:.5,i=L(this.$props.data);try{for(i.s();!(e=i.n()).done;){var s=e.value,l=n.t2screen(s[0])-o,a=n.$2screen(s[1])-.5,u=!1;s[2]?(t.strokeStyle!==s[2]&&(t.stroke(),u=!0),t.strokeStyle=s[2]):(t.strokeStyle!==this.color&&(t.stroke(),u=!0),t.strokeStyle=this.color),u&&t.beginPath(),t.moveTo(l,r),t.lineTo(l,a)}}catch(t){i.e(t)}finally{i.f()}t.stroke()},use_for:function(){return["Histogram"]},legend:function(t){var e=t[1];return"number"==typeof e&&(e=e.toFixed(Math.abs(e)>.001?4:8)),[{value:e,color:t[2]||this.color}]}},computed:{sett:function(){return this.$props.settings},line_width:function(){return this.sett.lineWidth||2},color:function(){var t=this.$props.num%5;return this.sett.color||this.COLORS[t]}},data:function(){return{COLORS:["#888888","#42b28a","#5691ce","#612ff9","#d50b90","#ff2316"]}}},undefined,undefined,!1,null,null,null);P.options.__file="src/overlays/Histogram/Histogram.vue";const R=P.exports;var D=e({name:"Ichi",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"C451",version:"1.0.0",desc:"Ichimoku Cloud based on scripts"}},draw:function(t){t.lineWidth=this.line_width;for(var e=0;e<this.$props.data.length-1;e++){var n=this.mapp(this.$props.data[e]),r=this.mapp(this.$props.data[e+1]);r&&(n.y1==n.y1&&(t.beginPath(),t.fillStyle=n.y1<n.y2?this.back1:this.back2,t.moveTo(n.x,n.y1),t.lineTo(r.x+.1,r.y1),t.lineTo(r.x+.1,r.y2),t.lineTo(n.x,n.y2),t.fill(),this.draw_lines&&(t.beginPath(),t.strokeStyle=this.color1,t.moveTo(n.x,n.y1),t.lineTo(r.x,r.y1),t.stroke(),t.beginPath(),t.strokeStyle=this.color2,t.moveTo(n.x,n.y2),t.lineTo(r.x,r.y2),t.stroke())))}},mapp:function(t){var e=this.$props.layout;return t&&{x:e.t2screen(t[0]),y1:e.$2screen(t[1]),y2:e.$2screen(t[2])}},use_for:function(){return["Ichi"]},data_colors:function(){return[this.color1,this.color2]},calc:function(){return{props:{CP:{def:9,text:"Conversion Line Length"},BP:{def:26,text:"Base Line Length"},LSP:{def:52,text:"Lagging Span 2 Length"},DIZ:{def:26,text:"Displacement"},baseColor:{def:"brown",text:"Base Line Color"},conversionColor:{def:"lightblue",text:"Conversion Line Color"},laggingColor:{def:"#66CC66",text:"Lagging Span Color"}},update:"\n                    let donchian = (len, id) => ts(\n                        avg(lowest(low, len)[0], highest(high, len)[0]), id\n                    )\n                    let conversionLine = donchian(CP, 1)\n                    let baseLine = donchian(BP, 2)\n                    let leadLine1 = ts(avg(conversionLine[0], baseLine[0]))\n                    let leadLine2 = donchian(LSP, 3)\n                    let lagging = ts(close[0])\n\n\n                    offset(this, DIZ - 1)\n                    offset(lagging, -DIZ + 1)\n                    onchart([conversionLine, baseLine], 'Base Lines', {\n                        colors: [conversionColor, baseColor]\n                    })\n                    onchart(lagging, 'Lagging Span', {\n                        color: laggingColor\n                    })\n                    return [leadLine1[0], leadLine2[0]]\n                "}}},computed:{sett:function(){return this.$props.settings},line_width:function(){return this.sett.lineWidth||.75},color1:function(){return this.sett.color1||"lightgreen"},color2:function(){return this.sett.color2||"orange"},back1:function(){return this.sett.back1||"#79ff9e22"},back2:function(){return this.sett.back2||"#ef535022"},draw_lines:function(){return this.sett.drawLines}},data:function(){return{COLORS:["#42b28a","#5691ce","#612ff9","#d50b90","#ff2316"]}}},undefined,undefined,!1,null,null,null);D.options.__file="src/overlays/Ichi/Ichi.vue";const K=D.exports;function q(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var F=e({name:"Ichimoku",mixins:[t.Overlay],data:function(){return{ctxTenkan:{},ctxKijun:{},ctxSenkouSpanA:{},ctxSenkouSpanB:{},ctxChinkou:{},ctxFillKumo:{},tenkan:[],kijun:[],senkouSpanA:[],senkouSpanB:[],chinkou:[],offset:26,tenkanLineWidth:1,kijunLineWidth:1,senkouSpanALineWidth:1,senkouSpanBLineWidth:1,chinkouLineWidth:1,colorTenkan:"#52A634",colorKijun:"#52A59D",colorSenkouSpanA:"#438625",colorSenkouSpanB:"#bd003c",colorChinkou:"#BF2A64",colorKumoUp:"#063f0f",colorKumoDown:"#391c19",showTenkan:!0,showKijun:!0,showSenkouSpanA:!0,showSenkouSpanB:!0,showChinkou:!0,showFillKumo:!0}},computed:{sett:function(){return this.$props.settings},tenkan_color:function(){return this.sett["tenkan-color"]||this.colorTenkan},kijun_color:function(){return this.sett["kijun-color"]||this.colorKijun},senkou_spanA_color:function(){return this.sett.senkou_spanA_color||this.colorSenkouSpanA},senkou_spanB_color:function(){return this.sett.senkou_spanB_color||this.colorSenkouSpanB},chinkou_color:function(){return this.sett.chinkou_color||this.colorChinkou},kumo_up_color:function(){return this.sett.kumo_up_color||this.colorKumoUp},kumo_down_color:function(){return this.sett.kumo_down_color||this.colorKumoDown},tenkan_line_width:function(){return this.sett.tenkan_line_width||this.tenkanLineWidth},kijun_line_width:function(){return this.sett.kijun_line_width||this.kijunLineWidth},senkou_spanA_line_width:function(){return this.sett.senkou_spanA_line_width||this.senkouSpanALineWidth},senkou_spanB_line_width:function(){return this.sett.senkou_spanB_line_width||this.senkouSpanBLineWidth},chinkou_line_width:function(){return this.sett.chinkou_line_width||this.chinkouLineWidth}},methods:{meta_info:function(){return{author:"Sudeep Batra",version:"1.0.0"}},draw:function(t){var e=this.$props.layout,n=this.$props.sub;this.ctxTenkan=t,this.ctxKijun=t,this.ctxSenkouSpanA=t,this.ctxSenkouSpanB=t,this.ctxChinkou=t,this.ctxFillKumo=t;var r=this.$props.data.slice(0,n.length),o=this.$props.data.slice(0,n.length+this.offset),i=this.$props.data.slice(0,n.length-this.offset);if(this.showFillKumo){this.ctxFillKumo.beginPath();var s,l=0,a=q(o);try{for(a.s();!(s=a.n()).done;){var u=s.value;if(l>1){var c=this.map_senkou_span_values(o[l-1]),f=this.map_senkou_span_values(u);this.ctxSenkouSpanB.beginPath(),this.ctxSenkouSpanB.moveTo(c.x,c.senkouSpanA),this.ctxSenkouSpanB.lineTo(f.x+.1,f.senkouSpanA),this.ctxSenkouSpanB.lineTo(f.x+.1,f.senkouSpanB),this.ctxSenkouSpanB.lineTo(c.x,c.senkouSpanB),c.senkouSpanA>=c.senkouSpanB?this.ctxSenkouSpanB.fillStyle=this.kumo_down_color:this.ctxSenkouSpanB.fillStyle=this.kumo_up_color,this.ctxSenkouSpanB.fill()}l++}}catch(t){a.e(t)}finally{a.f()}this.ctxSenkouSpanB.stroke()}if(this.showTenkan){this.ctxTenkan.beginPath();var h,d=q(r);try{for(d.s();!(h=d.n()).done;){var p=h.value;this.ctxTenkan.strokeStyle=this.tenkan_color,this.ctxTenkan.lineWidth=this.tenkan_line_width,this.ctxTenkan.lineTo(e.t2screen(p[0]),e.$2screen(p[1]))}}catch(t){d.e(t)}finally{d.f()}this.ctxTenkan.stroke()}if(this.showKijun){this.ctxKijun.beginPath();var m,v=q(r);try{for(v.s();!(m=v.n()).done;){var y=m.value;this.ctxKijun.strokeStyle=this.kijun_color,this.ctxKijun.lineWidth=this.kijun_line_width,this.ctxKijun.lineTo(e.t2screen(y[0]),e.$2screen(y[2]))}}catch(t){v.e(t)}finally{v.f()}this.ctxKijun.stroke()}if(this.showSenkouSpanA){this.ctxSenkouSpanA.beginPath();var g,_=q(o);try{for(_.s();!(g=_.n()).done;){var S=g.value;this.ctxSenkouSpanA.strokeStyle=this.senkou_spanA_color,this.ctxSenkouSpanA.lineWidth=this.senkou_spanA_line_width,this.ctxSenkouSpanA.lineTo(e.t2screen(S[0]),e.$2screen(S[3]))}}catch(t){_.e(t)}finally{_.f()}this.ctxSenkouSpanA.stroke()}if(this.colorSenkouSpanB){this.ctxSenkouSpanB.beginPath();var b,x=q(o);try{for(x.s();!(b=x.n()).done;){var k=b.value;this.ctxSenkouSpanB.strokeStyle=this.senkou_spanB_color,this.ctxSenkouSpanB.lineWidth=this.senkou_spanB_line_width,this.ctxSenkouSpanB.lineTo(e.t2screen(k[0]),e.$2screen(k[4]))}}catch(t){x.e(t)}finally{x.f()}this.ctxSenkouSpanB.stroke()}if(this.showChinkou){this.ctxChinkou.beginPath();var w,A=q(i);try{for(A.s();!(w=A.n()).done;){var C=w.value;this.ctxChinkou.strokeStyle=this.chinkou_color,this.ctxChinkou.lineWidth=this.chinkou_line_width,this.ctxChinkou.lineTo(e.t2screen(C[0]),e.$2screen(C[5]))}}catch(t){A.e(t)}finally{A.f()}this.ctxChinkou.stroke()}},map_senkou_span_values:function(t){var e=this.$props.layout;return t&&{x:e.t2screen(t[0]),senkouSpanA:e.$2screen(t[3]),senkouSpanB:e.$2screen(t[4])}},use_for:function(){return["Ichimoku"]},data_colors:function(){var t=[];return t.push(this.tenkan_color),t.push(this.kijun_color),t.push(this.senkou_spanA_color),t.push(this.senkou_spanB_color),t.push(this.chinkou_color),t}}},undefined,undefined,!1,null,null,null);F.options.__file="src/overlays/Ichimoku/Ichimoku.vue";const H=F.exports;var U=e({name:"KC",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Keltner Channels",preset:{name:"KC $length $mult",side:"onchart",settings:{lineWidth:.75,color:"#4c8dffab",showMid:!0,backColor:"#4c8dff0a"}}}},use_for:function(){return["KC"]},calc:function(){return{props:{length:{def:20,text:"Length"},mult:{def:1,text:"Multiplier"},use_tr:{def:!0,text:"Use True Range"}},conf:{renderer:"Channel"},update:"\n                    let [m, h, l] = kc(close, length, mult, use_tr)\n                    return [h[0], m[0], l[0]]\n                "}}}},undefined,undefined,!1,null,null,null);U.options.__file="src/overlays/KC/KC.vue";const V=U.exports;var z=e({name:"KCW",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Keltner Channels Width",preset:{name:"KCW $length $mult",side:"offchart",settings:{lineWidth:.75,color:"#4c8dffab"}}}},use_for:function(){return["KCW"]},calc:function(){return{props:{length:{def:20,text:"Length"},mult:{def:1,text:"Multiplier"},use_tr:{def:!0,text:"Use True Range"}},conf:{renderer:"Spline"},update:"\n                    return kcw(close, length, mult, use_tr)[0]\n                "}}}},undefined,undefined,!1,null,null,null);z.options.__file="src/overlays/KCW/KCW.vue";const G=z.exports;function X(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Z=e({name:"LongShortTrades",mixins:[t.Overlay],computed:{sett:function(){return this.$props.settings},default_font:function(){return"12px "+this.$props.font.split("px").pop()},currency_symbol:function(){return this.sett.currency||"â‚¹"},long_color:function(){return this.sett.longColor||"#63df89"},short_color:function(){return this.sett.shortColor||"#ffd581"},long_cover_color:function(){return this.sett.longCoverColor||"#fc7e2f"},short_cover_color:function(){return this.sett.shortCoverColor||"#ff6bd6"},label_color:function(){return"#4BECF9"},marker_size:function(){return this.sett.markerSize||5},show_label:function(){return!1!==this.sett.showLabel},new_font:function(){return this.sett.font||this.default_font}},methods:{meta_info:function(){return{author:"Sudeep Batra",version:"1.0.1"}},draw:function(t){var e=this.$props.layout;t.lineWidth=1.5,t.strokeStyle="black";var n,r=X(this.$props.data);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=o[0],s=o[1],l=o[2],a=o[3],u=(o[4],o[5]),c=o[6],f=o[7],h=e.t2screen(i),d=e.$2screen(c),p=e.$2screen(u);switch(s){case 0:this.filledArrowDownFilledBottom(t,h,p-25,5,5,3,20,this.short_color),this.draw_label(t,h+30,p-35,this.currency_symbol+f);break;case 1:this.filledArrowUpFilledBottom(t,h,d+20,5,5,3,20,this.long_color),this.draw_label(t,h+30,d+40,this.currency_symbol+f);break;case 2:this.upTriangle(t,h,d+25,5,7,this.short_cover_color),this.show_label&&l&&this.draw_label(t,h,d+50,l+" ("+a+")");break;case 3:this.downTriangle(t,h,p-25,5,7,this.long_cover_color),this.show_label&&l&&this.draw_label(t,h,p-45,l+" ("+a+")");break;default:t.fillStyle="black"}}}catch(t){r.e(t)}finally{r.f()}},draw_label:function(t,e,n,r){t.fillStyle=this.label_color,t.font=this.new_font,t.textAlign="center",t.fillText(r,e,n)},use_for:function(){return["LongShortTrades"]},legend:function(t){switch(t[1]){case 0:var e="Short";break;case 1:e="Long";break;case 2:e="Short Cover";break;case 3:e="Long Cover";break;default:e="Unknown"}return[{value:e},{value:t[2].toFixed(4),color:this.$props.colors.colorText}].concat(t[3]?[{value:t[3]}]:[])},simpleArrowUp:function(t,e,n,r){t.beginPath(),t.fillStyle=r,t.strokeStyle=r,t.moveTo(e-5,n+5),t.lineTo(e,n),t.lineTo(e+5,n+5),t.moveTo(e,n),t.lineTo(e,n+15),t.stroke(),t.closePath()},simpleArrowDown:function(t,e,n,r){t.beginPath(),t.fillStyle=r,t.strokeStyle=r,t.moveTo(e-5,n-5),t.lineTo(e,n),t.lineTo(e+5,n-5),t.moveTo(e,n),t.lineTo(e,n-15),t.stroke(),t.closePath()},filledArrowUp:function(t,e,n,r,o,i,s){t.beginPath(),t.fillStyle=s,t.strokeStyle=s,t.moveTo(e-r,n+o),t.lineTo(e,n),t.lineTo(e+r,n+o),t.moveTo(e,n),t.lineTo(e,n+i),t.fill(),t.stroke(),t.closePath()},filledDownArrow:function(t,e,n,r,o,i,s){t.beginPath(),t.fillStyle=s,t.strokeStyle=s,t.moveTo(e-r,n-o),t.lineTo(e,n),t.lineTo(e+r,n-o),t.moveTo(e,n),t.lineTo(e,n-i),t.fill(),t.stroke(),t.closePath()},filledArrowUpFilledBottom:function(t,e,n,r,o,i,s,l){t.beginPath(),t.fillStyle=l,t.strokeStyle=l,t.moveTo(e-r,n+o),t.lineTo(e,n),t.lineTo(e+r,n+o),t.moveTo(e,n),t.rect(e-i/2,n+o,i,s),t.fill(),t.stroke(),t.closePath()},filledArrowDownFilledBottom:function(t,e,n,r,o,i,s,l){t.beginPath(),t.fillStyle=l,t.strokeStyle=l,t.moveTo(e-r,n-o),t.lineTo(e,n),t.lineTo(e+r,n-o),t.moveTo(e,n),t.rect(e-i/2,n-o-s,i,s),t.fill(),t.stroke(),t.closePath()},upTriangle:function(t,e,n,r,o,i){t.beginPath(),t.fillStyle=i,t.strokeStyle=i,t.moveTo(e-r,n+o),t.lineTo(e,n),t.lineTo(e+r,n+o),t.fill(),t.stroke(),t.closePath()},downTriangle:function(t,e,n,r,o,i){t.beginPath(),t.fillStyle=i,t.strokeStyle=i,t.moveTo(e-r,n-o),t.lineTo(e,n),t.lineTo(e+r,n-o),t.fill(),t.stroke(),t.closePath()}}},undefined,undefined,!1,null,null,null);Z.options.__file="src/overlays/LongShortTrades/LongShortTrades.vue";const J=Z.exports;function Q(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tt=e({name:"MACD",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.2",desc:"Moving Average Convergence/Divergence",preset:{name:"MACD $fast $slow $smooth",side:"offchart",settings:{histWidth:4,macdWidth:1,signalWidth:1,defColor:"#42b28a",macdColor:"#3782f2",signalColor:"#f48709",histColors:["#35a776","#79e0b3","#e54150","#ea969e"]}}}},draw:function(t){var e=this.$props.layout,n=e.$2screen(0)+.5,r=this.hist_width%2?0:.5;t.lineWidth=this.hist_width,t.strokeStyle=this.color,t.beginPath();var o,i=Q(this.$props.data);try{for(i.s();!(o=i.n()).done;){var s=o.value,l=e.t2screen(s[0])-r,a=e.$2screen(s[1])-.5;t.strokeStyle=this.sett.histColors[s[4]],t.beginPath(),t.moveTo(l,n),t.lineTo(l,a),t.stroke()}}catch(t){i.e(t)}finally{i.f()}t.beginPath(),t.lineWidth=this.macd_width,t.strokeStyle=this.macd_color;var u,c=Q(this.$props.data);try{for(c.s();!(u=c.n()).done;){s=u.value;var f=e.t2screen(s[0]),h=e.$2screen(s[2]);t.lineTo(f,h)}}catch(t){c.e(t)}finally{c.f()}t.stroke(),t.beginPath(),t.lineWidth=this.signal_width,t.strokeStyle=this.signal_color;var d,p=Q(this.$props.data);try{for(p.s();!(d=p.n()).done;){s=d.value;var m=e.t2screen(s[0]),v=e.$2screen(s[3]);t.lineTo(m,v)}}catch(t){p.e(t)}finally{p.f()}t.stroke()},use_for:function(){return["MACD"]},legend:function(t){var e=t.slice(1,4).map((function(t){return t.toFixed(Math.abs(t)>.001?4:8)}));return[{value:e[0],color:this.hist_colors[t[4]]},{value:e[1],color:this.macd_color},{value:e[2],color:this.signal_color}]},calc:function(){return{props:{fast:{def:12,text:"Fast Length"},slow:{def:26,text:"Slow Length"},smooth:{def:9,text:"Signal EMA"}},update:"\n                    let [macd, signal, hist] =\n                        macd(close, fast, slow, smooth)\n\n                    if (hist[0] >= 0) {\n                         var color = 0\n                         if (hist[0] < hist[1]) color = 1\n                    } else {\n                        color = 2\n                        if (hist[0] > hist[1]) color = 3\n                    }\n\n                    return [hist[0], macd[0], signal[0], color]\n                "}}},computed:{sett:function(){return this.$props.settings},hist_width:function(){return this.sett.histWidth||4},macd_width:function(){return this.sett.macdWidth||1},signal_width:function(){return this.sett.signalWidth||1},color:function(){return this.sett.defColor||"#42b28a"},macd_color:function(){return this.sett.macdColor||"#3782f2"},signal_color:function(){return this.sett.signalColor||"#f48709"},hist_colors:function(){return this.sett.histColors}}},undefined,undefined,!1,null,null,null);tt.options.__file="src/overlays/MACD/MACD.vue";const et=tt.exports;var nt=e({name:"MFI",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Money Flow Index",preset:{name:"MFI $length",side:"offchart",settings:{lineWidth:.75,color:"#85c427ee",bandColor:"#aaaaaa",backColor:"#85c42711",upper:80,lower:20}}}},use_for:function(){return["MFI"]},calc:function(){return{props:{length:{def:14,text:"Length"}},conf:{renderer:"Range"},update:"\n                    let hlc3 = ts((high[0] + low[0] + close[0]) / 3)\n                    return mfi(hlc3, length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);nt.options.__file="src/overlays/MFI/MFI.vue";const rt=nt.exports;var ot=e({name:"MOM",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Momentum",preset:{name:"MOM $length",side:"offchart",settings:{lineWidth:.75,color:"#bcc427ee"}}}},use_for:function(){return["MOM"]},calc:function(){return{props:{length:{def:11,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return mom(close, length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);ot.options.__file="src/overlays/MOM/MOM.vue";const it=ot.exports;function st(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return lt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}function lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var at=e({name:"Markers",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"C451",version:"1.0.1",desc:"Interactive markers"}},init:function(){this.mouse.on("mousemove",(function(){}))},draw:function(t){t.lineWidth=1.5,t.strokeStyle="black",document.body.style.cursor="auto",this.selected=null;var e,n=st(this.$props.data);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.draw_point(t,r)}}catch(t){n.e(t)}finally{n.f()}var o=this.data.find((function(t){return t[1].sel}));o&&this.draw_point(t,o)},draw_point:function(t,e){var n=this.$props.layout,r=this.colors.back,o=e[1].color||"orange",i=e[1].sel?20:14,s=e[1].sel?17:13,l=n.t2screen(e[0])-.5*s,a=n.$2screen(e[1].$)-(e[1].sel?27:20);this.mouse.x>l&&this.mouse.x<l+s&&this.mouse.y>a&&this.mouse.y<a+i&&(document.body.style.cursor="pointer",this.selected=e,r=this.colors.text),t.beginPath(),t.moveTo(l+2,a),t.lineTo(l+s-2,a),t.quadraticCurveTo(l+s,a,l+s,a+2),t.lineTo(l+s,a+i-2),t.quadraticCurveTo(l+s,a+i,l+s-2,a+i),t.lineTo(l+1*s/2,a+i+i/5),t.lineTo(l+2,a+i),t.quadraticCurveTo(l,a+i,l,a+i-2),t.lineTo(l,a+2),t.quadraticCurveTo(l,a,l+2,a),t.lineWidth=1,t.closePath(),t.fillStyle=o,t.strokeStyle=r,t.fill(),t.stroke(),t.textAlign="center",t.fillStyle=e[1].textColor||this.colors.back,t.font="".concat(e[1].sel?15:11,"px Arial"),t.fillText(e[1].text||"$",l+s/2,a+.8*i)},use_for:function(){return["Markers"]},legend:function(){return[]},mousedown:function(){this.$emit("marker-selected",this.selected)}},computed:{sett:function(){return this.$props.settings},default_font:function(){return"12px "+this.$props.font.split("px").pop()},new_font:function(){return this.sett.font||this.default_font}},data:function(){return{selected:null}}},undefined,undefined,!1,null,null,null);at.options.__file="src/overlays/Markers/Markers.vue";const ut=at.exports;function ct(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ft(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}function ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ht=e({name:"PlotCross",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Plot line with crosses"}},draw:function(t){var e=t.lineWidth=this.line_width;t.strokeStyle=this.color,t.beginPath();var n,r=this.$props.layout,o=(r.$2screen(0),this.line_width%2?0:.5),i=this.line_width%2?.5:1,s=ct(this.$props.data);try{for(s.s();!(n=s.n()).done;){var l=n.value,a=r.t2screen(l[0])-o,u=r.$2screen(l[1])-o,c=!1;l[2]?(t.strokeStyle!==l[2]&&(t.stroke(),c=!0),t.strokeStyle=l[2]):(t.strokeStyle!==this.color&&(t.stroke(),c=!0),t.strokeStyle=this.color),c&&t.beginPath(),t.moveTo(a,u-2*e+i),t.lineTo(a,u+2*e-i),t.moveTo(a-2*e+i,u),t.lineTo(a+2*e-i,u)}}catch(t){s.e(t)}finally{s.f()}t.stroke()},use_for:function(){return["PlotCross"]},legend:function(t){var e=t[1];return"number"==typeof e&&(e=e.toFixed(Math.abs(e)>.001?4:8)),[{value:e,color:t[2]||this.color}]}},computed:{sett:function(){return this.$props.settings},line_width:function(){return this.sett.lineWidth||2},color:function(){var t=this.$props.num%5;return this.sett.color||this.COLORS[t]}},data:function(){return{COLORS:["#888888","#42b28a","#5691ce","#612ff9","#d50b90","#ff2316"]}}},undefined,undefined,!1,null,null,null);ht.options.__file="src/overlays/PlotCross/PlotCross.vue";const dt=ht.exports;var pt=e({name:"ROC",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Rate of Change",preset:{name:"ROC $length",side:"offchart",settings:{lineWidth:.75,color:"#279fc4"}}}},use_for:function(){return["ROC"]},calc:function(){return{props:{length:{def:9,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return roc(close, length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);pt.options.__file="src/overlays/ROC/ROC.vue";const mt=pt.exports;var vt=e({name:"RSI",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Relative Strength Index",preset:{name:"RSI $length",side:"offchart",settings:{lineWidth:.75,color:"#ec206e",bandColor:"#aaa",backColor:"#9b9ba316"}}}},use_for:function(){return["RSI"]},calc:function(){return{props:{length:{def:14,text:"Length"}},conf:{renderer:"Range"},update:"return rsi(close, length)[0]"}}}},undefined,undefined,!1,null,null,null);vt.options.__file="src/overlays/RSI/RSI.vue";const yt=vt.exports;var gt=e({name:"Ribbon",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Moving Average Ribbon",preset:{name:"EMA x $number",side:"onchart",settings:{lineWidth:.75,colors:["#3aaaf4ee"]}}}},use_for:function(){return["Ribbon"]},calc:function(){return{props:{start:{def:10,text:"Start Length"},number:{def:5,text:"Number of Lines"},step:{def:10,text:"Length Step"}},conf:{renderer:"Splines"},update:"\n                    this[0] = []\n                    for (var i = 0; i < number; i++) {\n                        let l = start + i * step\n                        this[0].push(ema(close, l)[0])\n                    }\n                "}}}},undefined,undefined,!1,null,null,null);gt.options.__file="src/overlays/Ribbon/Ribbon.vue";const _t=gt.exports;var St=e({name:"SAR",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Parabolic SAR",preset:{name:"SAR $start $inc $max",side:"onchart",settings:{lineWidth:2,color:"#35a9c6"}}}},use_for:function(){return["SAR"]},calc:function(){return{props:{start:{def:.02,text:"Start"},inc:{def:.02,text:"Increment"},max:{def:.2,text:"Maximum"}},conf:{renderer:"PlotCross"},update:"\n                    return sar(start, inc, max)[0]\n                "}}}},undefined,undefined,!1,null,null,null);St.options.__file="src/overlays/SAR/SAR.vue";const bt=St.exports;var xt=e({name:"SMA",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Simple Moving Average",preset:{name:"SMA $length",side:"onchart",settings:{lineWidth:.75,color:"#d1385c"}}}},use_for:function(){return["SMA"]},calc:function(){return{props:{length:{def:25,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return sma(close, length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);xt.options.__file="src/overlays/SMA/SMA.vue";const kt=xt.exports;var wt=e({name:"SWMA",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Symmetrically Weighted Moving Average",preset:{name:"SWMA",side:"onchart",settings:{lineWidth:.75,color:"#e57440"}}}},use_for:function(){return["SWMA"]},calc:function(){return{props:{},conf:{renderer:"Spline"},update:"\n                    return swma(close)[0]\n                "}}}},undefined,undefined,!1,null,null,null);wt.options.__file="src/overlays/SWMA/SWMA.vue";const At=wt.exports;function Ct(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Tt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}function Tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Mt=e({name:"Stoch",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Stochastic",preset:{name:"Stoch $param_k $param_d $smooth",side:"offchart",settings:{lineWidth:.75,kColor:"#3782f2",dColor:"#f48709",bandColor:"#ddd",backColor:"#381e9c16"}}}},draw:function(t){var e=this.$props.layout,n=e.$2screen(this.sett.upper||80),r=e.$2screen(this.sett.lower||20);t.lineWidth=this.line_width,t.strokeStyle=this.k_color,t.beginPath();var o,i=Ct(this.$props.data);try{for(i.s();!(o=i.n()).done;){var s=o.value,l=e.t2screen(s[0]),a=e.$2screen(s[1]);t.lineTo(l,a)}}catch(t){i.e(t)}finally{i.f()}t.stroke(),t.lineWidth=this.line_width,t.strokeStyle=this.d_color,t.beginPath();var u,c=Ct(this.$props.data);try{for(c.s();!(u=c.n()).done;){s=u.value;var f=e.t2screen(s[0]),h=e.$2screen(s[2]);t.lineTo(f,h)}}catch(t){c.e(t)}finally{c.f()}t.stroke(),t.strokeStyle=this.band_color,t.setLineDash([5]),t.beginPath(),t.fillStyle=this.back_color,t.fillRect(0,n,e.width,r-n),t.moveTo(0,n),t.lineTo(e.width,n),t.moveTo(0,r),t.lineTo(e.width,r),t.stroke()},use_for:function(){return["Stoch"]},data_colors:function(){return[this.color]},y_range:function(t,e){return[Math.max(t,this.sett.upper||80),Math.min(e,this.sett.lower||20)]},calc:function(){return{props:{param_k:{def:14,text:"K"},param_d:{def:3,text:"D"},smooth:{def:3,text:"Smooth"}},update:"\n                    let k = sma(stoch(close, high, low, param_k), smooth)\n                    let d = sma(k, param_d)\n                    return [k[0], d[0]]\n                "}}},computed:{sett:function(){return this.$props.settings},line_width:function(){return this.sett.lineWidth||.75},k_color:function(){return this.sett.kColor||"#3782f2"},d_color:function(){return this.sett.dColor||"#f48709"},band_color:function(){return this.sett.bandColor||"#ddd"},back_color:function(){return this.sett.backColor||"#381e9c16"}}},undefined,undefined,!1,null,null,null);Mt.options.__file="src/overlays/Stoch/Stoch.vue";const $t=Mt.exports;var Ot=e({name:"TSI",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"True Strength Index",preset:{name:"TSI $long $short $signal",side:"offchart",settings:{lineWidth:.75,colors:["#3bb3e4","#f7046d"]}}}},use_for:function(){return["TSI"]},calc:function(){return{props:{long:{def:25,text:"Long Length"},short:{def:13,text:"Short Length"},signal:{def:13,text:"Signal Length"}},conf:{renderer:"Splines"},update:"\n                    let val = tsi(close, short, long)\n                    let sig = ema(val, signal)\n                    return [val[0] * 100, sig[0] * 100]\n                "}}}},undefined,undefined,!1,null,null,null);Ot.options.__file="src/overlays/TSI/TSI.vue";const Wt=Ot.exports;function Bt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return It(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return It(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}function It(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Lt=e({name:"TradesPlus",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"C451",version:"1.0.1",desc:"Trades overlay with stops"}},draw:function(t){var e=this.$props.layout;t.strokeStyle="black";var n,r=Bt(this.$props.data);try{for(r.s();!(n=r.n()).done;){var o=n.value;t.fillStyle=o[1]?this.buy_color:this.sell_color;var i=e.t2screen(o[0]),s=e.$2screen(o[2]);"Stop"===o[3]?this.draw_cross(t,i,s):this.draw_circle(t,i,s),this.show_label&&o[3]&&"Stop"!==o[3]&&this.draw_label(t,i,s,o)}}catch(t){r.e(t)}finally{r.f()}},draw_label:function(t,e,n,r){t.fillStyle=this.label_color,t.font=this.new_font,t.textAlign="center",t.fillText(r[3],e,n-25)},draw_circle:function(t,e,n){t.lineWidth=1.5,t.beginPath(),t.arc(e,n,this.marker_size+.5,0,2*Math.PI,!0),t.fill(),t.stroke()},draw_cross:function(t,e,n){t.save();var r=new Path2D("m512.001 84.853-84.853-84.853-171.147 171.147-171.148-171.147-84.853\n84.853 171.148 171.147-171.148 171.148 84.853 84.853 171.148-171.147\n171.147 171.147 84.853-84.853-171.148-171.148z");t.lineWidth=150,t.translate(e-5,n-5),t.scale(.0175,.0175),t.stroke(r),t.fill(r),t.scale(1,1),t.restore()},use_for:function(){return["TradesPlus"]},legend:function(t){switch(t[1]){case 0:var e="Sell";break;case 1:e="Buy";break;default:e="Unknown"}return[{value:e},{value:t[2].toFixed(4),color:this.$props.colors.colorText}].concat(t[3]?[{value:t[3]}]:[])}},computed:{sett:function(){return this.$props.settings},default_font:function(){return"12px "+this.$props.font.split("px").pop()},buy_color:function(){return this.sett.buyColor||"#63df89"},sell_color:function(){return this.sett.sellColor||"#ec4662"},label_color:function(){return this.sett.labelColor||this.colors.text},marker_size:function(){return this.sett.markerSize||5},show_label:function(){return!1!==this.sett.showLabel},new_font:function(){return this.sett.font||this.default_font}}},undefined,undefined,!1,null,null,null);Lt.options.__file="src/overlays/TradesPlus/TradesPlus.vue";const jt=Lt.exports;var Pt=e({name:"VWMA",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Volume Weighted Moving Average",preset:{name:"VWMA $length",side:"onchart",settings:{lineWidth:.75,color:"#db0670"}}}},use_for:function(){return["VWMA"]},calc:function(){return{props:{length:{def:20,text:"Length"}},conf:{renderer:"Spline"},update:"\n                    return vwma(close, length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);Pt.options.__file="src/overlays/VWMA/VWMA.vue";const Rt=Pt.exports;var Dt=e({name:"WilliamsR",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"StdSquad",version:"1.0.0",desc:"Williams %R",preset:{name:"%R $length",side:"offchart",settings:{lineWidth:.75,color:"#0980e8",bandColor:"#aaa",backColor:"#9b9ba316",upper:-20,lower:-80}}}},use_for:function(){return["WilliamsR"]},calc:function(){return{props:{length:{def:14,text:"Length"}},conf:{renderer:"Range"},update:"\n                    return wpr(length)[0]\n                "}}}},undefined,undefined,!1,null,null,null);Dt.options.__file="src/overlays/WilliamsR/WilliamsR.vue";const Kt=Dt.exports;function qt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Et(t){return function(t){if(Array.isArray(t))return qt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return qt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ut(t,e,n){return e&&Ht(t.prototype,e),n&&Ht(t,n),t}var Vt=function(){function t(e,n,r){Ft(this,t),this.ctx=n,this.self=e,this.style=r.raw[6]||this.self,this._draw(r)}return Ut(t,[{key:"_draw",value:function(t){var e=this.style.lineWidth,n="HLC"==this.style.chartType,r=e/2,o=t.c<=t.o?this.style.upBarColor:this.style.downBarColor,i=Math.max(t.w,1),s=Math.max(Math.floor(.5*i),1),l=(Math.abs(t.o-t.c),t.c,t.o,e%2==0?0:.5);this.ctx.strokeStyle=o,this.ctx.lineWidth=e,this.ctx.beginPath(),this.ctx.moveTo(Math.floor(t.x-r)+l,Math.floor(t.h)),this.ctx.lineTo(Math.floor(t.x-r)+l,Math.floor(t.l)),i>1&&(n?(this.ctx.moveTo(Math.floor(t.x-s-r-1),Math.floor(t.c)-l),this.ctx.lineTo(Math.floor(t.x-r),Math.floor(t.c)-l)):(this.ctx.moveTo(Math.floor(t.x-s-r-1),Math.floor(t.o)-l),this.ctx.lineTo(Math.floor(t.x-r),Math.floor(t.o)-l)),this.ctx.moveTo(Math.floor(t.x-r),Math.floor(t.c)-l),this.ctx.lineTo(Math.floor(t.x+s-r+1),Math.floor(t.c)-l)),this.ctx.stroke()}}]),t}(),zt=function(){function t(e,n,r,o,i){Ft(this,t),this.ctx=n,this.$p=e.$props,this.self=e,this.style=r.raw[6]||this.self,this._draw(r,o,i)}return Ut(t,[{key:"_draw",value:function(t,e,n){if(n){var r=t.green?this.style.upVolBarColor:this.style.downVolBarColor,o=this.style.volBarWidth,i=o/2,s=this.$p.layout.height,l=(t.x2,t.x1,Math.floor(t.h));this.ctx.strokeStyle=r,this.ctx.lineWidth=o,this.ctx.beginPath(),this.ctx.moveTo(Math.floor(e.x-i),Math.floor(s-l-.5)),this.ctx.lineTo(Math.floor(e.x-i),Math.floor(s+.5)),this.ctx.stroke()}else{var a=this.$p.layout.height,u=t.x2-t.x1,c=Math.floor(t.h);this.ctx.fillStyle=t.green?this.style.upVolBarColor:this.style.downVolBarColor,this.ctx.fillRect(Math.floor(t.x1),Math.floor(a-c-.5),Math.floor(u),Math.floor(c+1))}}}]),t}();function Gt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Xt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}function Xt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Nt=e({name:"XOhlcBars",mixins:[t.Overlay],methods:{meta_info:function(){return{author:"X",version:"1.3.0",desc:"Bar Chart"}},init:function(){},draw:function(e){if(this.$props.sub===this.$props.data)var n={ohlcbars:this.$props.layout.candles,volume:this.$props.layout.volume};else n=(0,t.layout_cnv)(this);if(this.show_volume)for(var r=0;r<n.volume.length;r++){var o=n.volume[r],i=n.ohlcbars[r];new zt(this,e,o,i)}var s,l=Gt(n.ohlcbars);try{for(l.s();!(s=l.n()).done;){var a=s.value;new Vt(this,e,a)}}catch(t){l.e(t)}finally{l.f()}},use_for:function(){return["XOhlcBars"]},y_range:function(){return[Math.max.apply(Math,Et(this.$props.sub.map((function(t){return t[2]})))),Math.min.apply(Math,Et(this.$props.sub.map((function(t){return t[3]}))))]}},computed:{sett:function(){return this.$props.settings},show_volume:function(){return!("showVolume"in this.sett)||this.sett.showVolume},price_line:function(){return!("priceLine"in this.sett)||this.sett.priceLine},upVolBarColor:function(){return this.sett.upBarColor||"#23a77655"},downVolBarColor:function(){return this.sett.downBarColor||"#e5415055"},volBarWidth:function(){return this.sett.barWidth||2},upBarColor:function(){return this.sett.upBarColor||"#23a776"},downBarColor:function(){return this.sett.downBarColor||"#e54150"},barWidth:function(){return this.sett.barWidth||1},hlcOnly:function(){return this.sett.hlcOnly||!1},lineWidth:function(){return this.sett.lineWidth||1}},data:function(){return{price:{}}}},undefined,undefined,!1,null,null,null);Nt.options.__file="src/overlays/XOhlcBars/XOhlcBars.vue";const Zt=Nt.exports;var Jt={ALMA:i,ATR:l,ATRp:u,Area51:d,BB:m,BBW:y,CCI:_,CMO:b,COG:k,DHistogram:T,DMI:$,EMA:W,HMA:I,Histogram:R,Ichi:K,Ichimoku:H,KC:V,KCW:G,LongShortTrades:J,MACD:et,MFI:rt,MOM:it,Markers:ut,PlotCross:dt,ROC:mt,RSI:yt,Ribbon:_t,SAR:bt,SMA:kt,SWMA:At,Stoch:$t,TSI:Wt,TradesPlus:jt,VWMA:Rt,WilliamsR:Kt,XOhlcBars:Zt};"undefined"!=typeof window&&window.Vue&&(window.TvjsOverlays=Jt);const Qt=Jt})(),o})()}));